{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pointoboom/Desktop/Boom/LIS-Project/LIS-Frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\n        \"rounded-xl border border-zinc-200 bg-white text-zinc-900 dark:border-zinc-800 dark:bg-zinc-900 dark:text-zinc-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\nCard.displayName = \"Card\";\n\nconst CardHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-1.5 p-4\", className)} {...props} />\n);\n\nconst CardTitle = ({ className, ...props }: React.HTMLAttributes<HTMLHeadingElement>) => (\n  <h3 className={cn(\"font-semibold leading-none tracking-tight\", className)} {...props} />\n);\n\nconst CardDescription = ({ className, ...props }: React.HTMLAttributes<HTMLParagraphElement>) => (\n  <p className={cn(\"text-sm text-zinc-500 dark:text-zinc-400\", className)} {...props} />\n);\n\nconst CardContent = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"p-4 pt-0\", className)} {...props} />\n);\n\nconst CardFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex items-center p-4 pt-0\", className)} {...props} />\n);\n\nexport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter };\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2QAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,sSAAC;QACC,KAAK;QACL,WAAW,IAAA,0KAAE,EACX,oHACA;QAED,GAAG,KAAK;;;;;;AAIf,KAAK,WAAW,GAAG;AAEnB,MAAM,aAAa,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBAC/E,sSAAC;QAAI,WAAW,IAAA,0KAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAG3E,MAAM,YAAY,CAAC,EAAE,SAAS,EAAE,GAAG,OAAiD,iBAClF,sSAAC;QAAG,WAAW,IAAA,0KAAE,EAAC,6CAA6C;QAAa,GAAG,KAAK;;;;;;AAGtF,MAAM,kBAAkB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAmD,iBAC1F,sSAAC;QAAE,WAAW,IAAA,0KAAE,EAAC,4CAA4C;QAAa,GAAG,KAAK;;;;;;AAGpF,MAAM,cAAc,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBAChF,sSAAC;QAAI,WAAW,IAAA,0KAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAGtD,MAAM,aAAa,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBAC/E,sSAAC;QAAI,WAAW,IAAA,0KAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/pointoboom/Desktop/Boom/LIS-Project/LIS-Frontend/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Table = ({ className, ...props }: React.TableHTMLAttributes<HTMLTableElement>) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n);\n\nconst TableHeader = ({ className, ...props }: React.HTMLAttributes<HTMLTableSectionElement>) => (\n  <thead className={cn(\"[&_tr]:border-b\", className)} {...props} />\n);\n\nconst TableBody = ({ className, ...props }: React.HTMLAttributes<HTMLTableSectionElement>) => (\n  <tbody className={cn(\"[&_tr:last-child]:border-0\", className)} {...props} />\n);\n\nconst TableRow = ({ className, ...props }: React.HTMLAttributes<HTMLTableRowElement>) => (\n  <tr className={cn(\"border-b transition-colors hover:bg-zinc-50 dark:hover:bg-zinc-800/50\", className)} {...props} />\n);\n\nconst TableHead = ({ className, ...props }: React.ThHTMLAttributes<HTMLTableCellElement>) => (\n  <th\n    className={cn(\n      \"h-10 px-4 text-left align-middle font-medium text-zinc-600 dark:text-zinc-400 [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n);\n\nconst TableCell = ({ className, ...props }: React.TdHTMLAttributes<HTMLTableCellElement>) => (\n  <td\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n);\n\nconst TableCaption = ({ className, ...props }: React.HTMLAttributes<HTMLTableCaptionElement>) => (\n  <caption\n    className={cn(\"mt-4 text-sm text-zinc-500 dark:text-zinc-400\", className)}\n    {...props}\n  />\n);\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACA;;;AAEA,MAAM,QAAQ,CAAC,EAAE,SAAS,EAAE,GAAG,OAAoD,iBACjF,sSAAC;QAAI,WAAU;kBACb,cAAA,sSAAC;YACC,WAAW,IAAA,0KAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAKf,MAAM,cAAc,CAAC,EAAE,SAAS,EAAE,GAAG,OAAsD,iBACzF,sSAAC;QAAM,WAAW,IAAA,0KAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;AAG/D,MAAM,YAAY,CAAC,EAAE,SAAS,EAAE,GAAG,OAAsD,iBACvF,sSAAC;QAAM,WAAW,IAAA,0KAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;AAG1E,MAAM,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,OAAkD,iBAClF,sSAAC;QAAG,WAAW,IAAA,0KAAE,EAAC,yEAAyE;QAAa,GAAG,KAAK;;;;;;AAGlH,MAAM,YAAY,CAAC,EAAE,SAAS,EAAE,GAAG,OAAqD,iBACtF,sSAAC;QACC,WAAW,IAAA,0KAAE,EACX,+GACA;QAED,GAAG,KAAK;;;;;;AAIb,MAAM,YAAY,CAAC,EAAE,SAAS,EAAE,GAAG,OAAqD,iBACtF,sSAAC;QACC,WAAW,IAAA,0KAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;AAIb,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAAsD,iBAC1F,sSAAC;QACC,WAAW,IAAA,0KAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///Users/pointoboom/Desktop/Boom/LIS-Project/LIS-Frontend/app/dashboard/reports/print-button.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Printer } from \"lucide-react\";\n\nexport default function PrintButton() {\n  return (\n    <Button variant=\"outline\" size=\"sm\" className=\"print:hidden\" onClick={() => window.print()}>\n      <Printer className=\"mr-2 h-4 w-4\" /> Print\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,sSAAC,6LAAM;QAAC,SAAQ;QAAU,MAAK;QAAK,WAAU;QAAe,SAAS,IAAM,OAAO,KAAK;;0BACtF,sSAAC,2QAAO;gBAAC,WAAU;;;;;;YAAiB;;;;;;;AAG1C","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///Users/pointoboom/Desktop/Boom/LIS-Project/LIS-Frontend/app/dashboard/reports/export-jpg-button.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Image as ImageIcon } from \"lucide-react\";\nimport * as htmlToImage from \"html-to-image\";\n\ntype Props = {\n  targetId: string;\n  filename?: string;\n};\n\nexport default function ExportJpgButton({ targetId, filename = \"report.jpg\" }: Props) {\n  const onExport = async () => {\n    const node = document.getElementById(targetId);\n    if (!node) return;\n    // Temporarily add white background to ensure readable capture in dark mode\n    const prevBg = node.style.backgroundColor;\n    node.style.backgroundColor = \"#ffffff\";\n    try {\n      const dataUrl = await htmlToImage.toJpeg(node, {\n        quality: 0.95,\n        backgroundColor: \"#ffffff\",\n        pixelRatio: 2,\n        style: { padding: \"0.5in\" },\n      });\n      const link = document.createElement(\"a\");\n      link.download = filename;\n      link.href = dataUrl;\n      link.click();\n    } catch (e) {\n      console.error(\"Export to JPG failed\", e);\n    } finally {\n      node.style.backgroundColor = prevBg;\n    }\n  };\n\n  return (\n    <Button variant=\"outline\" size=\"sm\" className=\"print:hidden\" onClick={onExport}>\n      <ImageIcon className=\"mr-2 h-4 w-4\" /> Export JPG\n    </Button>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAWe,SAAS,gBAAgB,EAAE,QAAQ,EAAE,WAAW,YAAY,EAAS;IAClF,MAAM,WAAW;QACf,MAAM,OAAO,SAAS,cAAc,CAAC;QACrC,IAAI,CAAC,MAAM;QACX,2EAA2E;QAC3E,MAAM,SAAS,KAAK,KAAK,CAAC,eAAe;QACzC,KAAK,KAAK,CAAC,eAAe,GAAG;QAC7B,IAAI;YACF,MAAM,UAAU,MAAM,oNAAkB,CAAC,MAAM;gBAC7C,SAAS;gBACT,iBAAiB;gBACjB,YAAY;gBACZ,OAAO;oBAAE,SAAS;gBAAQ;YAC5B;YACA,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,QAAQ,GAAG;YAChB,KAAK,IAAI,GAAG;YACZ,KAAK,KAAK;QACZ,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,wBAAwB;QACxC,SAAU;YACR,KAAK,KAAK,CAAC,eAAe,GAAG;QAC/B;IACF;IAEA,qBACE,sSAAC,6LAAM;QAAC,SAAQ;QAAU,MAAK;QAAK,WAAU;QAAe,SAAS;;0BACpE,sSAAC,qQAAS;gBAAC,WAAU;;;;;;YAAiB;;;;;;;AAG5C","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///Users/pointoboom/Desktop/Boom/LIS-Project/LIS-Frontend/app/dashboard/reports/export-png-button.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Image as ImageIcon } from \"lucide-react\";\nimport * as htmlToImage from \"html-to-image\";\n\ntype Props = {\n  targetId: string;\n  filename?: string;\n};\n\nexport default function ExportPngButton({ targetId, filename = \"report.png\" }: Props) {\n  const onExport = async () => {\n    const node = document.getElementById(targetId);\n    if (!node) return;\n    const prevBg = node.style.backgroundColor;\n    node.style.backgroundColor = \"#ffffff\";\n    try {\n      const dataUrl = await htmlToImage.toPng(node, {\n        backgroundColor: \"#ffffff\",\n        pixelRatio: 2,\n        style: { padding: \"0.5in\" },\n      });\n      const link = document.createElement(\"a\");\n      link.download = filename;\n      link.href = dataUrl;\n      link.click();\n    } catch (e) {\n      console.error(\"Export to PNG failed\", e);\n    } finally {\n      node.style.backgroundColor = prevBg;\n    }\n  };\n\n  return (\n    <Button variant=\"outline\" size=\"sm\" className=\"print:hidden\" onClick={onExport}>\n      <ImageIcon className=\"mr-2 h-4 w-4\" /> Export PNG\n    </Button>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAWe,SAAS,gBAAgB,EAAE,QAAQ,EAAE,WAAW,YAAY,EAAS;IAClF,MAAM,WAAW;QACf,MAAM,OAAO,SAAS,cAAc,CAAC;QACrC,IAAI,CAAC,MAAM;QACX,MAAM,SAAS,KAAK,KAAK,CAAC,eAAe;QACzC,KAAK,KAAK,CAAC,eAAe,GAAG;QAC7B,IAAI;YACF,MAAM,UAAU,MAAM,mNAAiB,CAAC,MAAM;gBAC5C,iBAAiB;gBACjB,YAAY;gBACZ,OAAO;oBAAE,SAAS;gBAAQ;YAC5B;YACA,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,QAAQ,GAAG;YAChB,KAAK,IAAI,GAAG;YACZ,KAAK,KAAK;QACZ,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,wBAAwB;QACxC,SAAU;YACR,KAAK,KAAK,CAAC,eAAe,GAAG;QAC/B;IACF;IAEA,qBACE,sSAAC,6LAAM;QAAC,SAAQ;QAAU,MAAK;QAAK,WAAU;QAAe,SAAS;;0BACpE,sSAAC,qQAAS;gBAAC,WAAU;;;;;;YAAiB;;;;;;;AAG5C","debugId":null}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///Users/pointoboom/Desktop/Boom/LIS-Project/LIS-Frontend/app/dashboard/reports/export-pdf-button.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { FileDown } from \"lucide-react\";\nimport * as htmlToImage from \"html-to-image\";\nimport jsPDF from \"jspdf\";\n\ntype Props = {\n  targetId: string;\n  filename?: string;\n};\n\nexport default function ExportPdfButton({ targetId, filename = \"report.pdf\" }: Props) {\n  const onExport = async () => {\n    const node = document.getElementById(targetId);\n    if (!node) return;\n    const prevBg = node.style.backgroundColor;\n    node.style.backgroundColor = \"#ffffff\";\n    try {\n      const dataUrl = await htmlToImage.toPng(node, {\n        backgroundColor: \"#ffffff\",\n        pixelRatio: 2,\n        style: { padding: \"0.5in\" },\n      });\n\n      const pdf = new jsPDF({ orientation: \"p\", unit: \"pt\", format: \"a4\" });\n      const pageWidth = pdf.internal.pageSize.getWidth();\n      const pageHeight = pdf.internal.pageSize.getHeight();\n\n      const img = new Image();\n      img.src = dataUrl;\n      await img.decode().catch(() => {});\n\n      // Fit image to page width and preserve aspect ratio\n      const imgWidth = pageWidth;\n      const scale = imgWidth / (img.naturalWidth || 1);\n      const imgHeight = (img.naturalHeight || 1) * scale;\n\n      let y = 0;\n      if (imgHeight <= pageHeight) {\n        pdf.addImage(dataUrl, \"PNG\", 0, y, imgWidth, imgHeight);\n      } else {\n        // Simple paginate by slicing the tall image into pages vertically\n        // Draw the image multiple times with negative y offset to simulate slices\n        let remaining = imgHeight;\n        const sliceHeight = pageHeight;\n        while (remaining > 0) {\n          const h = Math.min(sliceHeight, remaining);\n          // add page except first\n          if (y > 0) pdf.addPage();\n          pdf.addImage(dataUrl, \"PNG\", 0, -y, imgWidth, imgHeight);\n          y += h;\n          remaining -= h;\n        }\n      }\n\n      pdf.save(filename);\n    } catch (e) {\n      console.error(\"Export to PDF failed\", e);\n    } finally {\n      node.style.backgroundColor = prevBg;\n    }\n  };\n\n  return (\n    <Button variant=\"outline\" size=\"sm\" className=\"print:hidden\" onClick={onExport}>\n      <FileDown className=\"mr-2 h-4 w-4\" /> Export PDF\n    </Button>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAYe,SAAS,gBAAgB,EAAE,QAAQ,EAAE,WAAW,YAAY,EAAS;IAClF,MAAM,WAAW;QACf,MAAM,OAAO,SAAS,cAAc,CAAC;QACrC,IAAI,CAAC,MAAM;QACX,MAAM,SAAS,KAAK,KAAK,CAAC,eAAe;QACzC,KAAK,KAAK,CAAC,eAAe,GAAG;QAC7B,IAAI;YACF,MAAM,UAAU,MAAM,mNAAiB,CAAC,MAAM;gBAC5C,iBAAiB;gBACjB,YAAY;gBACZ,OAAO;oBAAE,SAAS;gBAAQ;YAC5B;YAEA,MAAM,MAAM,IAAI,sNAAK,CAAC;gBAAE,aAAa;gBAAK,MAAM;gBAAM,QAAQ;YAAK;YACnE,MAAM,YAAY,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ;YAChD,MAAM,aAAa,IAAI,QAAQ,CAAC,QAAQ,CAAC,SAAS;YAElD,MAAM,MAAM,IAAI;YAChB,IAAI,GAAG,GAAG;YACV,MAAM,IAAI,MAAM,GAAG,KAAK,CAAC,KAAO;YAEhC,oDAAoD;YACpD,MAAM,WAAW;YACjB,MAAM,QAAQ,WAAW,CAAC,IAAI,YAAY,IAAI,CAAC;YAC/C,MAAM,YAAY,CAAC,IAAI,aAAa,IAAI,CAAC,IAAI;YAE7C,IAAI,IAAI;YACR,IAAI,aAAa,YAAY;gBAC3B,IAAI,QAAQ,CAAC,SAAS,OAAO,GAAG,GAAG,UAAU;YAC/C,OAAO;gBACL,kEAAkE;gBAClE,0EAA0E;gBAC1E,IAAI,YAAY;gBAChB,MAAM,cAAc;gBACpB,MAAO,YAAY,EAAG;oBACpB,MAAM,IAAI,KAAK,GAAG,CAAC,aAAa;oBAChC,wBAAwB;oBACxB,IAAI,IAAI,GAAG,IAAI,OAAO;oBACtB,IAAI,QAAQ,CAAC,SAAS,OAAO,GAAG,CAAC,GAAG,UAAU;oBAC9C,KAAK;oBACL,aAAa;gBACf;YACF;YAEA,IAAI,IAAI,CAAC;QACX,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,wBAAwB;QACxC,SAAU;YACR,KAAK,KAAK,CAAC,eAAe,GAAG;QAC/B;IACF;IAEA,qBACE,sSAAC,6LAAM;QAAC,SAAQ;QAAU,MAAK;QAAK,WAAU;QAAe,SAAS;;0BACpE,sSAAC,kRAAQ;gBAAC,WAAU;;;;;;YAAiB;;;;;;;AAG3C","debugId":null}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///Users/pointoboom/Desktop/Boom/LIS-Project/LIS-Frontend/app/dashboard/reports/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport Link from \"next/link\";\nimport moment from \"moment\";\nimport PrintButton from \"../print-button\";\nimport ExportJpgButton from \"../export-jpg-button\";\nimport ExportPngButton from \"../export-png-button\";\nimport ExportPdfButton from \"../export-pdf-button\";\nimport { useParams } from \"next/navigation\";\n\ntype ReportDetail = {\n  _id?: { $oid: string } | string;\n  received_at?: { $date: { $numberLong: string } } | string;\n  message_type?: string;\n  msh?: { sending_app?: string; sending_fac?: string; timestamp?: string };\n  pid?: { patient_id?: string; alt_patient_id?: string; alias_patient?: string; name?: string | null; dob?: string; sex?: string };\n  orders?: Array<{\n    obr?: {\n      placer_order?: string;\n      filler_order?: string;\n      service?: { id?: string; text?: string };\n      observation_datetime?: string;\n    };\n    observations?: Array<{\n      set_id?: string;\n      value_type?: string;\n      id?: { id?: string; text?: string };\n      value?: string;\n      units?: { id?: string; text?: string };\n      ref_range?: string;\n      abnormal_flags?: string;\n      status?: string;\n    }>;\n  }>;\n};\n\nexport default function ReportPage() {\n  const { id } = useParams() as { id: string };\n  const [report, setReport] = useState<ReportDetail | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let cancelled = false;\n    async function run() {\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/v1/lab-reports/${id}`, { cache: \"no-store\" });\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\n        const data = (await res.json()) as ReportDetail;\n        if (!cancelled) setReport(data);\n      } catch (e: any) {\n        if (!cancelled) setError(e?.message || \"Failed to load report\");\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    }\n    run();\n    return () => {\n      cancelled = true;\n    };\n  }, [id]);\n\n  // (no manual refresh button in reverted design)\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"text-sm text-zinc-500\">\n            <Link href=\"/dashboard\" className=\"underline underline-offset-2\">Dashboard</Link>\n            <span className=\"mx-2\">/</span>\n            <span>Report</span>\n          </div>\n          <div className=\"h-8 w-20 animate-pulse rounded bg-zinc-200 dark:bg-zinc-800\" />\n        </div>\n        <div className=\"rounded-xl border border-zinc-200 bg-white p-4 dark:border-zinc-800 dark:bg-zinc-900\">\n          <div className=\"mb-3 h-5 w-64 animate-pulse rounded bg-zinc-200 dark:bg-zinc-800\" />\n          <div className=\"grid gap-3 sm:grid-cols-2\">\n            {Array.from({ length: 4 }).map((_, i) => (\n              <div key={i} className=\"space-y-2\">\n                <div className=\"h-3 w-24 animate-pulse rounded bg-zinc-200 dark:bg-zinc-800\" />\n                <div className=\"h-4 w-40 animate-pulse rounded bg-zinc-200 dark:bg-zinc-800\" />\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"rounded-xl border border-zinc-200 bg-white p-4 dark:border-zinc-800 dark:bg-zinc-900\">\n          <div className=\"mb-3 h-5 w-40 animate-pulse rounded bg-zinc-200 dark:bg-zinc-800\" />\n          <div className=\"h-40 w-full animate-pulse rounded bg-zinc-200 dark:bg-zinc-800\" />\n        </div>\n      </div>\n    );\n  }\n  if (!report || error) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"text-sm text-zinc-500\">\n            <Link href=\"/dashboard\" className=\"underline underline-offset-2\">Dashboard</Link>\n            <span className=\"mx-2\">/</span>\n            <span>Report</span>\n          </div>\n          <Link href=\"/dashboard\" passHref>\n            <Button variant=\"outline\" size=\"sm\">Back</Button>\n          </Link>\n        </div>\n        <Card>\n          <CardHeader className=\"p-4 pb-3\">\n            <CardTitle className=\"text-base\">Report not found</CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-4 text-sm text-zinc-600 dark:text-zinc-400\">\n            {error ? `Error: ${error}` : \"Could not load report details. Please try again later.\"}\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const patient = report?.pid ?? {};\n  const order = report?.orders?.[0]?.obr ?? {};\n  const observations = report?.orders?.[0]?.observations ?? [];\n  // Derive MAP summary (MAP_Main and MAP Part 1..10) displayed as a single row\n  const mapKeys = [\"Main\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"] as const;\n  type MapKey = typeof mapKeys[number];\n  const mapParts: Partial<Record<MapKey, (typeof observations)[number]>> = {};\n  // Derive COD summary (COD_Main and COD Part 1..10) displayed as a single row\n  const codKeys = [\"Main\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"] as const;\n  type CodKey = typeof codKeys[number];\n  const codParts: Partial<Record<CodKey, (typeof observations)[number]>> = {};\n  // Derive FAT summary (FAT_Main and FAT Part 1..10) displayed as a single row\n  const fatKeys = [\"Main\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"] as const;\n  type FatKey = typeof fatKeys[number];\n  const fatParts: Partial<Record<FatKey, (typeof observations)[number]>> = {};\n  // Derive BAC summary (BAC_Main and BAC Part 1..10) displayed as a single row\n  const bacKeys = [\"Main\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"] as const;\n  type BacKey = typeof bacKeys[number];\n  const bacParts: Partial<Record<BacKey, (typeof observations)[number]>> = {};\n  // Derive RBC summary (RBC_Main and RBC Part 1..10) displayed as a single row\n  const rbcKeys = [\"Main\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"] as const;\n  type RbcKey = typeof rbcKeys[number];\n  const rbcParts: Partial<Record<RbcKey, (typeof observations)[number]>> = {};\n  // Derive WBC summary (WBC_Main and WBC Part 1..10) displayed as a single row\n  const wbcKeys = [\"Main\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"] as const;\n  type WbcKey = typeof wbcKeys[number];\n  const wbcParts: Partial<Record<WbcKey, (typeof observations)[number]>> = {};\n  const otherObservations: typeof observations = [];\n  for (const obx of observations) {\n    const raw = (obx?.id?.text || obx?.id?.id || \"\").toUpperCase();\n    if (raw.includes(\"MAP\")) {\n      if (raw.includes(\"MAIN\")) {\n        if (!mapParts.Main) mapParts.Main = obx;\n        continue;\n      }\n      const m = raw.match(/PART[^0-9]*([0-9]{1,2})/i);\n      const n = m ? parseInt(m[1], 10) : NaN;\n      if (Number.isFinite(n) && n >= 1 && n <= 10) {\n        const key = String(n) as MapKey;\n        if (!mapParts[key]) mapParts[key] = obx;\n        continue;\n      }\n    }\n    if (raw.includes(\"COD\")) {\n      if (raw.includes(\"MAIN\")) {\n        if (!codParts.Main) codParts.Main = obx;\n        continue;\n      }\n      const m2 = raw.match(/PART[^0-9]*([0-9]{1,2})/i);\n      const n2 = m2 ? parseInt(m2[1], 10) : NaN;\n      if (Number.isFinite(n2) && n2 >= 1 && n2 <= 10) {\n        const key2 = String(n2) as CodKey;\n        if (!codParts[key2]) codParts[key2] = obx;\n        continue;\n      }\n    }\n    if (raw.includes(\"RBC\")) {\n      if (raw.includes(\"MAIN\")) {\n        if (!rbcParts.Main) rbcParts.Main = obx;\n        continue;\n      }\n      const mr = raw.match(/PART[^0-9]*([0-9]{1,2})/i);\n      const nr = mr ? parseInt(mr[1], 10) : NaN;\n      if (Number.isFinite(nr) && nr >= 1 && nr <= 10) {\n        const keyr = String(nr) as RbcKey;\n        if (!rbcParts[keyr]) rbcParts[keyr] = obx;\n        continue;\n      }\n    }\n    if (raw.includes(\"WBC\")) {\n      if (raw.includes(\"MAIN\")) {\n        if (!wbcParts.Main) wbcParts.Main = obx;\n        continue;\n      }\n      const mw = raw.match(/PART[^0-9]*([0-9]{1,2})/i);\n      const nw = mw ? parseInt(mw[1], 10) : NaN;\n      if (Number.isFinite(nw) && nw >= 1 && nw <= 10) {\n        const keyw = String(nw) as WbcKey;\n        if (!wbcParts[keyw]) wbcParts[keyw] = obx;\n        continue;\n      }\n    }\n    if (raw.includes(\"FAT\")) {\n      if (raw.includes(\"MAIN\")) {\n        if (!fatParts.Main) fatParts.Main = obx;\n        continue;\n      }\n      const mf = raw.match(/PART[^0-9]*([0-9]{1,2})/i);\n      const nf = mf ? parseInt(mf[1], 10) : NaN;\n      if (Number.isFinite(nf) && nf >= 1 && nf <= 10) {\n        const keyf = String(nf) as FatKey;\n        if (!fatParts[keyf]) fatParts[keyf] = obx;\n        continue;\n      }\n    }\n    if (raw.includes(\"BAC\")) {\n      if (raw.includes(\"MAIN\")) {\n        if (!bacParts.Main) bacParts.Main = obx;\n        continue;\n      }\n      const mb = raw.match(/PART[^0-9]*([0-9]{1,2})/i);\n      const nb = mb ? parseInt(mb[1], 10) : NaN;\n      if (Number.isFinite(nb) && nb >= 1 && nb <= 10) {\n        const keyb = String(nb) as BacKey;\n        if (!bacParts[keyb]) bacParts[keyb] = obx;\n        continue;\n      }\n    }\n    otherObservations.push(obx);\n  }\n  const hasMapSummary = Object.keys(mapParts).length > 0;\n  const hasCodSummary = Object.keys(codParts).length > 0;\n  const hasRbcSummary = Object.keys(rbcParts).length > 0;\n  const hasWbcSummary = Object.keys(wbcParts).length > 0;\n  const hasFatSummary = Object.keys(fatParts).length > 0;\n  const hasBacSummary = Object.keys(bacParts).length > 0;\n  const receivedAt = (() => {\n    const receivedRaw = report?.received_at as any;\n    if (typeof receivedRaw === \"string\") return moment(receivedRaw).format(\"DD MMMM YYYY\");\n    if (receivedRaw?.$date?.$numberLong) return moment(Number(receivedRaw.$date.$numberLong)).format(\"DD MMMM YYYY\");\n    return \"\";\n  })();\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"text-sm text-zinc-500\">\n          <Link href=\"/dashboard\" className=\"underline underline-offset-2\">Dashboard</Link>\n          <span className=\"mx-2\">/</span>\n          <span>Report</span>\n        </div>\n        <div className=\"flex items-center gap-2 print:hidden\">\n          <ExportJpgButton targetId=\"report-export\" filename={`report-${id}.jpg`} />\n          <ExportPngButton targetId=\"report-export\" filename={`report-${id}.png`} />\n          <ExportPdfButton targetId=\"report-export\" filename={`report-${id}.pdf`} />\n          <PrintButton />\n          <Link href=\"/dashboard\" passHref>\n            <Button variant=\"outline\" size=\"sm\">Back</Button>\n          </Link>\n        </div>\n      </div>\n\n      <div id=\"report-export\" className=\"space-y-4\">\n      {/* Export/Header block */}\n      <div className=\"rounded-xl border border-zinc-200 bg-white p-4 text-sm dark:border-zinc-800 dark:bg-white\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <div className=\"text-xs uppercase tracking-wider text-zinc-500\">Laboratory Information System</div>\n            <div className=\"text-base font-semibold text-zinc-900\">Laboratory Report</div>\n          </div>\n          <div className=\"text-right text-xs text-zinc-600\">\n            <div>Report ID: {String(id)}</div>\n            <div>Generated: {moment().format(\"DD MMMM YYYY\")}</div>\n          </div>\n        </div>\n      </div>\n      <Card>\n        <CardHeader className=\"p-4 pb-3\">\n          <CardTitle className=\"text-base\">\n            {order?.service?.id || \"Service\"} • {order?.service?.text || \"Report\"}\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"grid gap-3 p-4 text-sm sm:grid-cols-2\">\n          <div>\n            <div className=\"text-zinc-500\">Alias Patient</div>\n            <div className=\"font-medium\">{patient?.alias_patient || \"—\"}</div>\n          </div>\n          <div>\n            <div className=\"text-zinc-500\">Patient ID</div>\n            <div className=\"font-medium\">{patient?.patient_id || \"—\"}</div>\n          </div>\n          <div>\n            <div className=\"text-zinc-500\">Filler Order</div>\n            <div className=\"font-medium\">{order?.filler_order || \"—\"}</div>\n          </div>\n          <div>\n            <div className=\"text-zinc-500\">Received At</div>\n            <div className=\"font-medium\">{receivedAt || \"—\"}</div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {hasMapSummary && (\n        <Card className=\"overflow-hidden\">\n          <CardHeader className=\"p-4 pb-3\">\n          <CardTitle className=\"text-sm\">MAP Summary</CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <Table>\n              <TableHeader className=\"bg-zinc-50 dark:bg-zinc-950\">\n                <TableRow className=\"hover:bg-transparent\">\n                  {mapKeys.map((k) => (\n                    <TableHead key={`h-${k}`}>{k === \"Main\" ? \"MAP Main\" : `Part ${k}`}</TableHead>\n                  ))}\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                <TableRow>\n                  {mapKeys.map((k) => {\n                    const obx = mapParts[k];\n                    const value = obx?.value ?? \"—\";\n                    const units = obx?.units?.id || obx?.units?.text || \"\";\n                    const strVal = String(value);\n                    const hasBase64 = strVal.includes(\"Base64^\");\n                    let attachment: { kind: \"image\" | \"pdf\"; src: string } | null = null;\n                    if (hasBase64) {\n                      const base64 = strVal.split(\"Base64^\").pop()?.trim() || \"\";\n                      const mime = base64.startsWith(\"JVBERi0\") || strVal.toLowerCase().includes(\"pdf\")\n                        ? \"application/pdf\"\n                        : \"image/jpeg\";\n                      const uri = `data:${mime};base64,${base64}`;\n                      attachment = mime === \"application/pdf\" ? { kind: \"pdf\", src: uri } : { kind: \"image\", src: uri };\n                    }\n                    return (\n                      <TableCell key={`c-${k}`}>\n                        {attachment ? (\n                          attachment.kind === \"image\" ? (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\">\n                              <img\n                                src={attachment.src}\n                                alt={(obx?.id?.text || obx?.id?.id || `MAP ${k}`) as string}\n                                className=\"h-20 w-20 rounded object-cover ring-1 ring-zinc-200 dark:ring-zinc-800\"\n                              />\n                            </a>\n                          ) : (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\" className=\"underline underline-offset-2\">Open PDF</a>\n                          )\n                        ) : (\n                          <>\n                            {value}\n                            {units ? <span className=\"ml-1 text-xs text-zinc-500\">{units}</span> : null}\n                          </>\n                        )}\n                      </TableCell>\n                    );\n                  })}\n                </TableRow>\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      )}\n\n      {hasRbcSummary && (\n        <Card className=\"overflow-hidden\">\n          <CardHeader className=\"p-4 pb-3\">\n            <CardTitle className=\"text-sm\">RBC Summary</CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <Table>\n              <TableHeader className=\"bg-zinc-50 dark:bg-zinc-950\">\n                <TableRow className=\"hover:bg-transparent\">\n                  {rbcKeys.map((k) => (\n                    <TableHead key={`rbch-${k}`}>{k === \"Main\" ? \"RBC Main\" : `Part ${k}`}</TableHead>\n                  ))}\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                <TableRow>\n                  {rbcKeys.map((k) => {\n                    const obx = rbcParts[k];\n                    const value = obx?.value ?? \"—\";\n                    const units = obx?.units?.id || obx?.units?.text || \"\";\n                    const strVal = String(value);\n                    const hasBase64 = strVal.includes(\"Base64^\");\n                    let attachment: { kind: \"image\" | \"pdf\"; src: string } | null = null;\n                    if (hasBase64) {\n                      const base64 = strVal.split(\"Base64^\").pop()?.trim() || \"\";\n                      const mime = base64.startsWith(\"JVBERi0\") || strVal.toLowerCase().includes(\"pdf\")\n                        ? \"application/pdf\"\n                        : \"image/jpeg\";\n                      const uri = `data:${mime};base64,${base64}`;\n                      attachment = mime === \"application/pdf\" ? { kind: \"pdf\", src: uri } : { kind: \"image\", src: uri };\n                    }\n                    return (\n                      <TableCell key={`rbcc-${k}`}>\n                        {attachment ? (\n                          attachment.kind === \"image\" ? (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\">\n                              <img\n                                src={attachment.src}\n                                alt={(obx?.id?.text || obx?.id?.id || `RBC ${k}`) as string}\n                                className=\"h-16 w-16 rounded object-cover ring-1 ring-zinc-200 dark:ring-zinc-800\"\n                              />\n                            </a>\n                          ) : (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\" className=\"underline underline-offset-2\">Open PDF</a>\n                          )\n                        ) : (\n                          <>\n                            {value}\n                            {units ? <span className=\"ml-1 text-xs text-zinc-500\">{units}</span> : null}\n                          </>\n                        )}\n                      </TableCell>\n                    );\n                  })}\n                </TableRow>\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      )}\n\n      {hasWbcSummary && (\n        <Card className=\"overflow-hidden\">\n          <CardHeader className=\"p-4 pb-3\">\n            <CardTitle className=\"text-sm\">WBC Summary</CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <Table>\n              <TableHeader className=\"bg-zinc-50 dark:bg-zinc-950\">\n                <TableRow className=\"hover:bg-transparent\">\n                  {wbcKeys.map((k) => (\n                    <TableHead key={`wbch-${k}`}>{k === \"Main\" ? \"WBC Main\" : `Part ${k}`}</TableHead>\n                  ))}\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                <TableRow>\n                  {wbcKeys.map((k) => {\n                    const obx = wbcParts[k];\n                    const value = obx?.value ?? \"—\";\n                    const units = obx?.units?.id || obx?.units?.text || \"\";\n                    const strVal = String(value);\n                    const hasBase64 = strVal.includes(\"Base64^\");\n                    let attachment: { kind: \"image\" | \"pdf\"; src: string } | null = null;\n                    if (hasBase64) {\n                      const base64 = strVal.split(\"Base64^\").pop()?.trim() || \"\";\n                      const mime = base64.startsWith(\"JVBERi0\") || strVal.toLowerCase().includes(\"pdf\")\n                        ? \"application/pdf\"\n                        : \"image/jpeg\";\n                      const uri = `data:${mime};base64,${base64}`;\n                      attachment = mime === \"application/pdf\" ? { kind: \"pdf\", src: uri } : { kind: \"image\", src: uri };\n                    }\n                    return (\n                      <TableCell key={`wbcc-${k}`}>\n                        {attachment ? (\n                          attachment.kind === \"image\" ? (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\">\n                              <img\n                                src={attachment.src}\n                                alt={(obx?.id?.text || obx?.id?.id || `WBC ${k}`) as string}\n                                className=\"h-16 w-16 rounded object-cover ring-1 ring-zinc-200 dark:ring-zinc-800\"\n                              />\n                            </a>\n                          ) : (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\" className=\"underline underline-offset-2\">Open PDF</a>\n                          )\n                        ) : (\n                          <>\n                            {value}\n                            {units ? <span className=\"ml-1 text-xs text-zinc-500\">{units}</span> : null}\n                          </>\n                        )}\n                      </TableCell>\n                    );\n                  })}\n                </TableRow>\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      )}\n\n      {hasBacSummary && (\n        <Card className=\"overflow-hidden\">\n          <CardHeader className=\"p-4 pb-3\">\n            <CardTitle className=\"text-sm\">BAC Summary</CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <Table>\n              <TableHeader className=\"bg-zinc-50 dark:bg-zinc-950\">\n                <TableRow className=\"hover:bg-transparent\">\n                  {bacKeys.map((k) => (\n                    <TableHead key={`bach-${k}`}>{k === \"Main\" ? \"BAC Main\" : `Part ${k}`}</TableHead>\n                  ))}\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                <TableRow>\n                  {bacKeys.map((k) => {\n                    const obx = bacParts[k];\n                    const value = obx?.value ?? \"—\";\n                    const units = obx?.units?.id || obx?.units?.text || \"\";\n                    const strVal = String(value);\n                    const hasBase64 = strVal.includes(\"Base64^\");\n                    let attachment: { kind: \"image\" | \"pdf\"; src: string } | null = null;\n                    if (hasBase64) {\n                      const base64 = strVal.split(\"Base64^\").pop()?.trim() || \"\";\n                      const mime = base64.startsWith(\"JVBERi0\") || strVal.toLowerCase().includes(\"pdf\")\n                        ? \"application/pdf\"\n                        : \"image/jpeg\";\n                      const uri = `data:${mime};base64,${base64}`;\n                      attachment = mime === \"application/pdf\" ? { kind: \"pdf\", src: uri } : { kind: \"image\", src: uri };\n                    }\n                    return (\n                      <TableCell key={`bacc-${k}`}>\n                        {attachment ? (\n                          attachment.kind === \"image\" ? (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\">\n                              <img\n                                src={attachment.src}\n                                alt={(obx?.id?.text || obx?.id?.id || `BAC ${k}`) as string}\n                                className=\"h-16 w-16 rounded object-cover ring-1 ring-zinc-200 dark:ring-zinc-800\"\n                              />\n                            </a>\n                          ) : (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\" className=\"underline underline-offset-2\">Open PDF</a>\n                          )\n                        ) : (\n                          <>\n                            {value}\n                            {units ? <span className=\"ml-1 text-xs text-zinc-500\">{units}</span> : null}\n                          </>\n                        )}\n                      </TableCell>\n                    );\n                  })}\n                </TableRow>\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      )}\n\n      {hasFatSummary && (\n        <Card className=\"overflow-hidden\">\n          <CardHeader className=\"p-4 pb-3\">\n            <CardTitle className=\"text-sm\">FAT Summary</CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <Table>\n              <TableHeader className=\"bg-zinc-50 dark:bg-zinc-950\">\n                <TableRow className=\"hover:bg-transparent\">\n                  {fatKeys.map((k) => (\n                    <TableHead key={`fath-${k}`}>{k === \"Main\" ? \"FAT Main\" : `Part ${k}`}</TableHead>\n                  ))}\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                <TableRow>\n                  {fatKeys.map((k) => {\n                    const obx = fatParts[k];\n                    const value = obx?.value ?? \"—\";\n                    const units = obx?.units?.id || obx?.units?.text || \"\";\n                    const strVal = String(value);\n                    const hasBase64 = strVal.includes(\"Base64^\");\n                    let attachment: { kind: \"image\" | \"pdf\"; src: string } | null = null;\n                    if (hasBase64) {\n                      const base64 = strVal.split(\"Base64^\").pop()?.trim() || \"\";\n                      const mime = base64.startsWith(\"JVBERi0\") || strVal.toLowerCase().includes(\"pdf\")\n                        ? \"application/pdf\"\n                        : \"image/jpeg\";\n                      const uri = `data:${mime};base64,${base64}`;\n                      attachment = mime === \"application/pdf\" ? { kind: \"pdf\", src: uri } : { kind: \"image\", src: uri };\n                    }\n                    return (\n                      <TableCell key={`fatc-${k}`}>\n                        {attachment ? (\n                          attachment.kind === \"image\" ? (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\">\n                              <img\n                                src={attachment.src}\n                                alt={(obx?.id?.text || obx?.id?.id || `FAT ${k}`) as string}\n                                className=\"h-16 w-16 rounded object-cover ring-1 ring-zinc-200 dark:ring-zinc-800\"\n                              />\n                            </a>\n                          ) : (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\" className=\"underline underline-offset-2\">Open PDF</a>\n                          )\n                        ) : (\n                          <>\n                            {value}\n                            {units ? <span className=\"ml-1 text-xs text-zinc-500\">{units}</span> : null}\n                          </>\n                        )}\n                      </TableCell>\n                    );\n                  })}\n                </TableRow>\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      )}\n      {hasCodSummary && (\n        <Card className=\"overflow-hidden\">\n          <CardHeader className=\"p-4 pb-3\">\n            <CardTitle className=\"text-sm\">COD Summary</CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <Table>\n              <TableHeader className=\"bg-zinc-50 dark:bg-zinc-950\">\n                <TableRow className=\"hover:bg-transparent\">\n                  {codKeys.map((k) => (\n                    <TableHead key={`ch-${k}`}>{k === \"Main\" ? \"COD Main\" : `Part ${k}`}</TableHead>\n                  ))}\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                <TableRow>\n                  {codKeys.map((k) => {\n                    const obx = codParts[k];\n                    const value = obx?.value ?? \"—\";\n                    const units = obx?.units?.id || obx?.units?.text || \"\";\n                    const strVal = String(value);\n                    const hasBase64 = strVal.includes(\"Base64^\");\n                    let attachment: { kind: \"image\" | \"pdf\"; src: string } | null = null;\n                    if (hasBase64) {\n                      const base64 = strVal.split(\"Base64^\").pop()?.trim() || \"\";\n                      const mime = base64.startsWith(\"JVBERi0\") || strVal.toLowerCase().includes(\"pdf\")\n                        ? \"application/pdf\"\n                        : \"image/jpeg\";\n                      const uri = `data:${mime};base64,${base64}`;\n                      attachment = mime === \"application/pdf\" ? { kind: \"pdf\", src: uri } : { kind: \"image\", src: uri };\n                    }\n                    return (\n                      <TableCell key={`cc-${k}`}>\n                        {attachment ? (\n                          attachment.kind === \"image\" ? (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\">\n                              <img\n                                src={attachment.src}\n                                alt={(obx?.id?.text || obx?.id?.id || `COD ${k}`) as string}\n                                className=\"h-16 w-16 rounded object-cover ring-1 ring-zinc-200 dark:ring-zinc-800\"\n                              />\n                            </a>\n                          ) : (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\" className=\"underline underline-offset-2\">Open PDF</a>\n                          )\n                        ) : (\n                          <>\n                            {value}\n                            {units ? <span className=\"ml-1 text-xs text-zinc-500\">{units}</span> : null}\n                          </>\n                        )}\n                      </TableCell>\n                    );\n                  })}\n                </TableRow>\n              </TableBody>\n            </Table>\n          </CardContent>\n        </Card>\n      )}\n\n      <Card className=\"overflow-hidden\">\n        <CardHeader className=\"p-4 pb-3\">\n          <CardTitle className=\"text-sm\">Observations</CardTitle>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader className=\"bg-zinc-50 dark:bg-zinc-950\">\n              <TableRow className=\"hover:bg-transparent\">\n                <TableHead>Code</TableHead>\n                <TableHead>Name</TableHead>\n                <TableHead>Value</TableHead>\n                <TableHead>Units</TableHead>\n                <TableHead>Ref Range</TableHead>\n                <TableHead>Flag</TableHead>\n                <TableHead>Status</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(hasMapSummary || hasCodSummary || hasRbcSummary || hasWbcSummary || hasFatSummary || hasBacSummary ? otherObservations : observations).length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={7} className=\"text-center text-zinc-500\">No observations</TableCell>\n                </TableRow>\n              ) : (\n                (hasMapSummary || hasCodSummary || hasRbcSummary || hasWbcSummary || hasFatSummary || hasBacSummary ? otherObservations : observations).map((obx, i) => {\n                  const code = obx?.id?.id || \"\";\n                  const name = obx?.id?.text || \"\";\n                  const value = obx?.value ?? \"\";\n                  const units = obx?.units?.id || obx?.units?.text || \"\";\n                  const ref = obx?.ref_range || \"\";\n                  const flag = obx?.abnormal_flags || \"\";\n                  const status = obx?.status || \"\";\n                  const isAbn = flag && flag !== \"N\";\n                  const strVal = String(value);\n                  const hasBase64 = strVal.includes(\"Base64^\");\n                  let attachment: { kind: \"image\" | \"pdf\"; src: string } | null = null;\n                  if (hasBase64) {\n                    const base64 = strVal.split(\"Base64^\").pop()?.trim() || \"\";\n                    const mime = base64.startsWith(\"JVBERi0\") || strVal.toLowerCase().includes(\"pdf\")\n                      ? \"application/pdf\"\n                      : \"image/jpeg\";\n                    const uri = `data:${mime};base64,${base64}`;\n                    attachment = mime === \"application/pdf\" ? { kind: \"pdf\", src: uri } : { kind: \"image\", src: uri };\n                  }\n                  return (\n                    <TableRow key={`${code}-${i}`}>\n                      <TableCell className=\"font-medium\">{code}</TableCell>\n                      <TableCell>{name}</TableCell>\n                      <TableCell className={isAbn ? \"text-rose-600\" : undefined}>\n                        {attachment ? (\n                          attachment.kind === \"image\" ? (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\">\n                              <img src={attachment.src} alt={name || code || \"attachment\"} className=\"h-16 w-16 rounded object-cover ring-1 ring-zinc-200 dark:ring-zinc-800\" />\n                            </a>\n                          ) : (\n                            <a href={attachment.src} target=\"_blank\" rel=\"noreferrer\" className=\"underline underline-offset-2\">Open PDF</a>\n                          )\n                        ) : (\n                          <>{value}</>\n                        )}\n                      </TableCell>\n                      <TableCell>{units}</TableCell>\n                      <TableCell className=\"text-zinc-500\">{ref}</TableCell>\n                      <TableCell>\n                        {flag ? (\n                          <span className={isAbn ? \"rounded-full bg-rose-100 px-2 py-0.5 text-xs text-rose-700 dark:bg-rose-900/30 dark:text-rose-300\" : \"rounded-full bg-zinc-100 px-2 py-0.5 text-xs text-zinc-700 dark:bg-zinc-800 dark:text-zinc-300\"}>\n                            {flag}\n                          </span>\n                        ) : (\n                          \"—\"\n                        )}\n                      </TableCell>\n                      <TableCell className=\"text-zinc-500\">{status}</TableCell>\n                    </TableRow>\n                  );\n                })\n              )}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n      {/* Footer block for export */}\n      <div className=\"rounded-xl border border-zinc-200 bg-white p-3 text-xs text-zinc-600 dark:border-zinc-800 dark:bg-white\">\n        Generated by LIS • {moment().format(\"DD MMMM YYYY\")}\n      </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}